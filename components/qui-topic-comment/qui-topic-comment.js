(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/qui-topic-comment/qui-topic-comment"],{4269:function(t,e,n){"use strict";n.r(e);var i=n("7629"),o=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=o.a},7629:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("6c07"),o=n("2ef0"),r=o.get,u={props:{currentPostData:{type:Object,default:function(){return{}}},rewards:{type:Number,default:0},item:{type:Object,default:function(){return{}}},commentType:{type:Number,default:0},refreshStatus:{type:Boolean,default:!1},commentAvatarUrl:{type:String,default:""},postId:{type:[Number,String],default:""},commentPostId:{type:[Number,String],default:""},commentUser:{type:Object,default:function(){return{}}},userName:{type:String,default:""},isReal:{type:Boolean,default:!1},userRole:{type:Array,default:function(){return[]}},commentStatus:{type:[String,Number],default:"1"},isLiked:{type:Boolean,default:!1},commentContent:{type:String,default:""},replyList:{type:Array,default:function(){return[]}},replyCount:{type:Number,default:0},commentTime:{type:String,default:""},imagesList:{type:Array,default:function(){return[]}},modeVal:{type:String,default:"aspectFill"},commentShow:{type:Boolean,default:!1},commentLikeCount:{type:Number,default:0},canDelete:{type:Boolean,default:!0},redPacketAmount:{type:[Number,String],default:""}},data:function(){return{isAdmin:!0,isGreat:!1,imageStatus:!0,amountMoney:"",percentage:""}},computed:{currentLoginId:function(){return this.$store.getters["session/get"]("userId")},isShowAdopt:function(){var t=this.currentPostData.author,e=void 0===t?{}:t;return e.id===1*this.currentLoginId&&void 0!==this.item.user&&!(1*this.currentLoginId===1*this.item.user.id)},t:function(){return this.i18n.t("topic")},localTime:function(){return(0,i.time2DateAndHM)(this.commentTime?this.commentTime:"")}},watch:{commentLikeCount:{handler:function(t){this.commentLikeCount=t},deep:!0,immediate:!0},refreshStatus:{handler:function(t){this.refreshStatus=t,!0===this.refreshStatus&&this.$forceUpdate()},deep:!0,immediate:!0}},methods:{adoptedAmount:function(){return!!this.percentage&&("NaN"===parseFloat(this.percentage).toString()?(this.$refs.toast.show({message:"只能输入数字"}),!1):this.percentage<=0||this.percentage>100?!!this.percentage&&(this.$refs.toast.show({message:"只能输入0-100"}),!1):(this.amountMoney=.01*this.percentage*this.currentPostData.thread.questionTypeAndMoney.money,void(this.amountMoney=parseFloat(this.amountMoney.toFixed(2)))))},commentAoptClick:function(){this.item.user.id!==this.currentLoginId?this.$refs.adopt.open():this.$refs.toast.show({message:"不可采纳自己的评论"})},maskAdoptClick:function(t){if("determine"===t){if("NaN"===parseFloat(this.percentage).toString())return this.$refs.toast.show({message:"只能输入数字"}),this.$refs.adopt.close(),!1;var e=r(this.currentPostData,"thread.questionTypeAndMoney.remainMoney",0);if(this.amountMoney>e)return this.$refs.toast.show({message:"悬赏余额不足"}),!1;var n=1*this.amountMoney;if(0===this.amountMoney)return this.$refs.toast.show({message:"悬赏采纳后奖励的金额需大于等于0.01元"}),!1;this.amountMoney="",this.percentage="",this.$emit("submitadoption",n,1*this.postId,1*this.currentPostData.thread.id),this.$refs.adopt.close()}else this.$refs.adopt.close()},commentJump:function(){this.$emit("commentJump")},personJump:function(){this.$emit("personJump")},commentLikeClick:function(t){this.$emit("commentLikeClick",t)},deleteComment:function(){this.$emit("deleteComment")},replyComment:function(){this.$emit("replyComment")},previewPicture:function(e){for(var n=this,i=[],o=0,r=n.imagesList.length;o<r;o+=1)i.push(n.imagesList[o].url);t.previewImage({current:e,urls:i,indicator:"number"})},imageError:function(){this.imageStatus=!1}}};e.default=u}).call(this,n("543d")["default"])},a88d:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={quiAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("components/qui-avatar/qui-avatar")]).then(n.bind(null,"7a5a"))},quiIcon:function(){return n.e("components/qui-icon/qui-icon").then(n.bind(null,"d13f"))},quiUparse:function(){return Promise.all([n.e("common/vendor"),n.e("components/qui-uparse/qui-uparse")]).then(n.bind(null,"11a7"))},quiImage:function(){return n.e("components/qui-image/qui-image").then(n.bind(null,"991d"))},quiReply:function(){return Promise.all([n.e("common/vendor"),n.e("components/qui-reply/qui-reply")]).then(n.bind(null,"49d2"))},uniPopup:function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"78fd"))},quiToast:function(){return n.e("components/qui-toast/qui-toast").then(n.bind(null,"b091"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,""!==t.commentPostId?t.i18n.t("topic.replyTo"):null);t.$mp.data=Object.assign({},{$root:{g0:n}})},r=[]},aac9:function(t,e,n){"use strict";var i=n("c599"),o=n.n(i);o.a},c599:function(t,e,n){},f80e:function(t,e,n){"use strict";n.r(e);var i=n("a88d"),o=n("4269");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("aac9");var u,a=n("f0c5"),s=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,"f50d3fce",null,!1,i["a"],u);e["default"]=s.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/qui-topic-comment/qui-topic-comment-create-component',
    {
        'components/qui-topic-comment/qui-topic-comment-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("f80e"))
        })
    },
    [['components/qui-topic-comment/qui-topic-comment-create-component']]
]);
