(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/qui-upload-file/qui-upload-file"],{"2a5e":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("7a36"));function a(e){return e&&e.__esModule?e:{default:e}}var s={name:"QuiUploader",mixins:[n.default],props:{url:{default:"",type:String},fileFormat:{default:"",type:String},fileSize:{default:"",type:String},maxLength:{default:3,type:Number},attachmentList:{type:Array,default:function(){return[]}},header:{type:Object,default:function(){return{}}},loginStatus:{default:1,type:Number}},data:function(){var e=!0;return{fileList:[],showAdd:e,currentIndex:0,extendIndex:0}},watch:{fileFormat:{handler:function(e){this.fileFormat=e},deep:!0,immediate:!0},fileSize:{handler:function(e){this.fileList=e},deep:!0,immediate:!0},attachmentList:{handler:function(e){var t=[];e.forEach((function(e){t.push({attributes:{fileName:e.fileName,url:e.url},id:e._jv.id})})),this.fileList=t},deep:!0,immediate:!0},fileList:function(){this.$emit("change",this.fileList)}},mounted:function(){},methods:{uploadBtn:function(){var t=this;wx.chooseMessageFile({count:1,type:"all",success:function(i){var n={name:i.tempFiles[0].name,size:i.tempFiles[0].size};t.verificateFile(n,t)&&(e.showLoading(),wx.uploadFile({url:t.url,name:"file",timeout:3e4,header:t.header,formData:{name:n.name,type:0},filePath:i.tempFiles[0].path,success:function(i){var a=i.statusCode,s=JSON.parse(i.data).data;if(a>=200&&a<300)1===t.loginStatus?t.fileList.push({attributes:{fileName:n.name,url:s.attributes.url},id:s.id}):t.fileList.push({attributes:{fileName:n.name,url:s.attributes.url},id:s.id,index:t.extendIndex});else{var u=JSON.parse(i.data).errors[0].code;1===t.loginStatus?t.$refs.toast.show({message:u}):t.$emit("setToolTips",u)}e.hideLoading()},fail:function(i){1===t.loginStatus?t.$refs.toast.show({message:i}):t.$emit("setToolTips",i),e.hideLoading()}}))}})},verificateFile:function(e,t){var i=e.name,n=i.substring(i.lastIndexOf(".")+1);if(t.fileFormat&&-1===this.fileFormat.indexOf(n)){var a=this.i18n.t("profile.pleaseselect")+t.fileFormat+this.i18n.t("profile.fileformat");return 1===this.loginStatus?t.$refs.toast.show({message:a}):this.$emit("setToolTips",a),!1}return!(t.fileSize&&(e.size/1024).toFixed(0)>1e3*parseInt(t.fileSize,10))||(1===this.loginStatus?t.$refs.toast.show({message:"".concat(this.i18n.t("profile.filesizecannotexceed")).concat(t.fileSize,"M")}):this.$emit("setToolTips","".concat(this.i18n.t("profile.filesizecannotexceed")).concat(t.fileSize,"M")),!1)},deleteItem:function(e){var t=this;1===this.loginStatus?this.fileList.splice(e,1):this.fileList.forEach((function(i,n){e===i.id&&t.fileList.splice(n,1)}))},getValue:function(){return this.fileList},setValue:function(e){this.fileList=e},setIndex:function(e){this.extendIndex=e}}};t.default=s}).call(this,i("543d")["default"])},9494:function(e,t,i){"use strict";i.r(t);var n=i("962a"),a=i("e677");for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);i("b970");var u,l=i("f0c5"),o=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"e6941d3e",null,!1,n["a"],u);t["default"]=o.exports},"962a":function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n}));var n={quiIcon:function(){return i.e("components/qui-icon/qui-icon").then(i.bind(null,"d13f"))},quiToast:function(){return i.e("components/qui-toast/qui-toast").then(i.bind(null,"b091"))}},a=function(){var e=this,t=e.$createElement,i=(e._self._c,e.fileList.length<e.maxLength?e.i18n.t("profile.uploadFile"):null);e.$mp.data=Object.assign({},{$root:{g0:i}})},s=[]},b970:function(e,t,i){"use strict";var n=i("d942"),a=i.n(n);a.a},d942:function(e,t,i){},e677:function(e,t,i){"use strict";i.r(t);var n=i("2a5e"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/qui-upload-file/qui-upload-file-create-component',
    {
        'components/qui-upload-file/qui-upload-file-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("9494"))
        })
    },
    [['components/qui-upload-file/qui-upload-file-create-component']]
]);
