(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/qui-topic-content/qui-topic-content"],{"08fe":function(t,e,n){},"2e9b":function(t,e,n){"use strict";n.r(e);var i=n("33af"),o=n("312b");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("e482");var r,u=n("f0c5"),s=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"6819fbc0",null,!1,i["a"],r);e["default"]=s.exports},"312b":function(t,e,n){"use strict";n.r(e);var i=n("e83f"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"33af":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={quiAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("components/qui-avatar/qui-avatar")]).then(n.bind(null,"7a5a"))},quiUparse:function(){return Promise.all([n.e("common/vendor"),n.e("components/qui-uparse/qui-uparse")]).then(n.bind(null,"11a7"))},quiAudioCell:function(){return n.e("components/qui-audio-cell/qui-audio-cell").then(n.bind(null,"cbf7"))},quiImage:function(){return n.e("components/qui-image/qui-image").then(n.bind(null,"991d"))},quiAudio:function(){return n.e("components/qui-audio/qui-audio").then(n.bind(null,"2068"))},quiIcon:function(){return n.e("components/qui-icon/qui-icon").then(n.bind(null,"d13f"))},quiVideo:function(){return n.e("components/qui-video/qui-video").then(n.bind(null,"a709"))},quiToast:function(){return n.e("components/qui-toast/qui-toast").then(n.bind(null,"b091"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,1==t.topicStatus&&5===t.themeType&&1===t.currentPostData.thread.questionTypeAndMoney.type?t.i18n.t("home.to"):null),i=1==t.topicStatus&&5===t.themeType&&1===t.currentPostData.thread.questionTypeAndMoney.type?t.i18n.t("home.putQuestions"):null,o=1==t.topicStatus&&t.payStatus&&1!==t.themeParts?t.$u.light():null,a=1==t.topicStatus&&t.attachmentList.length>0?t.i18n.t("profile.attachment"):null,r=1==t.topicStatus&&t.attachmentList.length>0?t.__map(t.attachmentList,(function(e,n){var i=t.__get_orig(e),o=["MP3","M4A","WAV","AAC"].indexOf(e.format),a=-1===o?["PPTX","PPT","POT","POTX","PPS","PPSX","DPS","DPT","PPTM","POTM","PPSM","DOC","DOT","WPS","WPT","DOCX","DOTX","DOCM","DOTM","PDF","LRC","C","CPP","H","ASM","S","JAVA","ASP","BAT","BAS","PRG","CMD","RTF","TXT","LOG","XML","HTM","HTML"].indexOf(e.format):null,r=-1===o&&t.attachmentIsPreview&&e.isRemote&&-1!==a?t.i18n.t("topic.preview"):null,u=["MP4"].indexOf(e.format),s=-1!==u?t.i18n.t("profile.play"):null;return{$orig:i,g4:o,g5:a,g6:r,g7:u,g8:s}})):null,u=1==t.topicStatus&&t.postGoodsStatus&&6===t.themeType?t.i18n.t("home.buygood"):null,s=1==t.topicStatus&&5===t.themeType&&0===t.currentPostData.thread.questionTypeAndMoney.type?t.currentPostData.thread.questionTypeAndMoney.expiredAt.substring(0,10):null,c=1==t.topicStatus&&5===t.themeType&&0===t.currentPostData.thread.questionTypeAndMoney.type?(t.currentPostData.thread.questionTypeAndMoney.money-t.currentPostData.thread.questionTypeAndMoney.remainMoney).toFixed(2):null;t._isMounted||(t.e0=function(e){t.attachmentPayStatus&&t.attachmentPay()},t.e1=function(e,n){var i=arguments[arguments.length-1].currentTarget.dataset,o=i.eventParams||i["event-params"];n=o.index;!t.attachmentPayStatus&&t.download(n)},t.e2=function(e,n){var i=arguments[arguments.length-1].currentTarget.dataset,o=i.eventParams||i["event-params"];n=o.index;!t.attachmentPayStatus&&t.download(n)}),t.$mp.data=Object.assign({},{$root:{g0:n,g1:i,g2:o,g3:a,l0:r,g9:u,g10:s,g11:c}})},a=[]},e482:function(t,e,n){"use strict";var i=n("08fe"),o=n.n(i);o.a},e83f:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("7a36")),o=n("6c07"),a=n("1299");function r(t){return t&&t.__esModule?t:{default:t}}function u(t){return l(t)||d(t)||c(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function d(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t){if(Array.isArray(t))return f(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var h={mixins:[i.default],props:{currentPostData:{type:Object,default:function(){return{}}},topicStatus:{type:Number,default:0},themeParts:{type:Number,default:0},followShow:{type:Boolean,default:!1},themeType:{type:Number,default:0},payStatus:{type:Boolean,default:!0},videoStatus:{type:Boolean,default:!0},threadPrice:{type:[Number,String],default:0},userInfo:{type:Object,default:function(){return{}}},userRole:{type:Array,default:function(){return[]}},userId:{type:[Number,String],default:""},avatarUrl:{type:String,default:""},userName:{type:String,default:""},isReal:{type:Boolean,default:!1},selectList:{type:Array,default:function(){return[]}},themeTitle:{type:String,default:""},threadIsEssence:{type:Boolean,default:!1},themeContent:{type:String,default:""},themeTime:{type:String,default:""},managementShow:{type:Boolean,default:!1},imagesList:{type:Array,default:function(){return[]}},postGoodsStatus:{type:Boolean,default:!1},postGoods:{type:Object,default:function(){return{}}},videoWidth:{type:Number,default:0},videoHeight:{type:Number,default:0},themid:{type:[Number,String],default:0},tags:{type:Array,default:function(){return[]}},beAskName:{type:String,default:""},coverImage:{type:String,default:""},duration:{type:String,default:""},mediaUrl:{type:String,default:""},fileList:{type:Array,default:function(){return[]}},threadPosition:{type:Array,default:function(){return[]}},threadAudio:{type:Object,default:function(){return{}}},attachmentPayStatus:{type:Boolean,default:!1}},data:function(){return{seleShow:!1,selectActive:!1,imageStatus:!0,videoShow:!1,attachMentList:[],autoplay:!1,look:!0,sun:1,blocKwidth:224,videoContext:"",wechatbrowser:!1,dataGoodInfoPrice:0,tagId:""}},computed:{t:function(){return this.i18n.t("topic")},p:function(){return this.i18n.t("pay")},localTime:function(){return(0,o.time2DateAndHM)(this.themeTime?this.themeTime:"")},threadInfo:function(){var t=this.$store.getters["session/get"]("thread");return t},attachmentList:function(){var t=this.fileList,e=this.threadInfo;return t.forEach((function(n,i){t[i].format=n.fileName.substring(n.fileName.lastIndexOf(".")+1).toUpperCase(),e.thread.attachmentPrice>0&&e.thread.price>0&&(t[i].url="".concat(t[i].url,"&isAttachment=1"))})),t},attachmentIsPreview:function(){var t=!1;return t=!!(this.threadInfo.thread.price<=0&&this.threadInfo.thread.attachmentPrice<=0&&this.forums.qcloud.qcloud_cos&&this.forums.qcloud.qcloud_cos_doc_preview)||(!!(this.threadInfo.thread.price<=0&&this.threadInfo.thread.attachmentPrice>0&&this.forums.qcloud.qcloud_cos&&this.forums.qcloud.qcloud_cos_doc_preview&&this.threadInfo.thread.isPaidAttachment)||!!(this.threadInfo.thread.price>0&&this.threadInfo.thread.isPaid&&this.forums.qcloud.qcloud_cos&&this.forums.qcloud.qcloud_cos_doc_preview)),t}},created:function(){6===this.themeType&&Object.keys(this.postGoods).length>0&&(-1!==this.postGoods.price.indexOf("-")||Number(this.postGoods.price)>0?this.dataGoodInfoPrice=this.postGoods.price:Number(this.postGoods.price)<=0&&(this.dataGoodInfoPrice="")),this.$forceUpdate(),this.videoContext=t.createVideoContext("myVideo",this)},mounted:function(){this.blocKwidth=660/this.videoWidth*this.videoHeight},methods:{selectClick:function(){this.seleShow=!this.seleShow},selectChoice:function(t){this.$emit("selectChoice",t),this.seleShow=!1},personJump:function(){this.$emit("personJump",this.userId)},beAskClick:function(t){this.$emit("beAskClick",t)},videocoverClick:function(){this.$emit("videocoverClick")},childrenTabClick:function(t,e){var n=this,i="";this.$store.dispatch("jv/get",["categories",{}]).then((function(o){var a=u(o)||[];a.forEach((function(e){"".concat(e._jv.id)==="".concat(t)?i=e._jv.id:e.children&&e.children.forEach((function(n){"".concat(n.id)==="".concat(t)&&(i=e._jv.id)}))})),n.$emit("tagClick",i,t,e)}))},tagClick:function(t,e){var n=e;"string"===typeof e&&e.indexOf(",")&&(n=e.split(",")),this.childrenTabClick(t,n)},imageError:function(){this.imageStatus=!1},attachmentPay:function(){this.$emit("attachmentPay")},download:function(t){var e=this.attachmentList[t],n=this;wx.downloadFile({url:e.url,success:function(t){200===t.statusCode&&(n.$refs.toast.show({message:n.i18n.t("profile.downloadSuccess")}),wx.openDocument({filePath:t.tempFilePath,success:function(t){console.log(t)}}))},error:function(){n.$refs.toast.show({message:n.i18n.t("profile.downloadError")})}})},preview:function(e){this.$store.dispatch("session/setAttachment",e);var n=this.$store.getters["session/get"]("attachment");console.log(n),t.navigateTo({url:"/pages/topic/attachment"})},audioPlay:function(t){if(this.attachmentPayStatus)this.$refs["audio".concat(t)][0].audioPause();else{var e=this.attachmentList,n=this;e.forEach((function(e){parseInt(t,10)!==e.id&&-1!==["MP3","M4A","WAV","AAC"].indexOf(e.format)&&n.$refs["audio".concat(e.id)][0].audioPause()}))}},fullscreenPlay:function(t){this.attachmentPayStatus||this.$refs["video".concat(t)][0].fullscreenPlay()},topicPosition:function(){var e=this.threadPosition;t.navigateTo({url:"/pages/topic/position?longitude=".concat(e[2],"&latitude=").concat(e[3])})},previewPicture:function(){this.$emit("previewPicture")},previewAudio:function(){this.$emit("previewAudio")},serBtn:function(){var t=this,e={include:["posts.replyUser","user.groups","user","posts","posts.user","posts.likedUsers","posts.images","firstPost","firstPost.likedUsers","firstPost.images","firstPost.postGoods","firstPost.attachments","rewardedUsers","category","threadVideo","threadAudio","paidUsers","user.groups.permissionWithoutCategories"]},n=a.status.run((function(){return t.$store.dispatch("jv/get",["threads/".concat(t.themid),{params:e}])}));n.then((function(){t.sun="none",t.videoShow=!0,t.autoplay=!0,setTimeout((function(){t.videoContext.play(),t.videoContext.requestFullScreen({direction:0})}),200)}))},btnFun:function(){this.serBtn()},watchClick:function(){this.$emit("watchClick")},queClick:function(){this.$emit("queClick")},audioPlayer:function(t){this.$refs["audio".concat(t)].audioPause()},buyGood:function(){this.$emit("buyGood")}}};e.default=h}).call(this,n("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/qui-topic-content/qui-topic-content-create-component',
    {
        'components/qui-topic-content/qui-topic-content-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("2e9b"))
        })
    },
    [['components/qui-topic-content/qui-topic-content-create-component']]
]);
