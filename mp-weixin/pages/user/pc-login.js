(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/pc-login"],{"0f87":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;e("88dc");var o=i(e("7a36")),s=e("c4cc");function i(t){return t&&t.__esModule?t:{default:t}}var c={mixins:[o.default],data:function(){return{num:!1,code:"",sessionId:"",token:"",switch:!1,content:{},showPage:!1,pcLoginLogo:"",registers:""}},watch:{forums:{handler:function(t){var n,e,o,s;t&&(this.pcLoginLogo=(null===(n=this.forums)||void 0===n||null===(e=n.set_site)||void 0===e?void 0:e.site_logo)||"/static/logo.png",2===(null===(o=this.forums)||void 0===o||null===(s=o.set_reg)||void 0===s?void 0:s.register_type)&&(this.registers=1))},deep:!0}},onLoad:function(n){var e,o,i,c,a=this;(this.content=n,this.isLogin=this.$store.getters["session/get"]("isLogin"),(0,s.isEmptyObject)(this.forums))||(this.pcLoginLogo=(null===(e=this.forums)||void 0===e||null===(o=e.set_site)||void 0===o?void 0:o.site_logo)||"/static/logo.png",2===(null===(i=this.forums)||void 0===i||null===(c=i.set_reg)||void 0===c?void 0:c.register_type)&&(this.registers=1));n.session_token&&(t.showToast({icon:"none",title:this.i18n.t("user.loging")}),t.setStorage({key:"session_token_data",data:n.session_token,success:function(){a.token=n.session_token,a.$store.dispatch("session/wxPcLogin")}}))},methods:{pcLogin:function(){var n=this;t.getStorage({key:"session_token_data",success:function(e){if(""!=e.data){var o=e.data,s=n.content.code,i=n.content.state,c=n.content.sessionId,a=n.registers;n.$store.dispatch("session/scancodeverification",{code:s,state:i,sessionId:c,sessionToken:o,Insensibility:a}).then((function(e){e&&e.data&&e.data.data&&t.showToast({icon:"none",title:n.i18n.t("user.loginSuccess"),success:function(){setTimeout((function(){n.cancelPclogin()}),3e3)}})})).catch((function(e){e&&e.data&&e.data.errors&&("no_bind_user"===e.data.errors[0].code&&t.showToast({icon:"none",title:n.i18n.t("user.loginSuccess"),success:function(){setTimeout((function(){n.cancelPclogin()}),3e3)}}),"ban_user"===e.data.errors[0].code&&t.showToast({icon:"none",title:n.i18n.t("core.ban_user"),success:function(){setTimeout((function(){n.cancelPclogin()}),3e3)}}))}))}}})},cancelPclogin:function(){WeixinJSBridge.call("closeWindow")}}};n.default=c}).call(this,e("543d")["default"])},"22ce":function(t,n,e){"use strict";var o;e.d(n,"b",(function(){return s})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return o}));var s=function(){var t=this,n=t.$createElement,e=(t._self._c,t.i18n.t("user.pcloginconfirm")),o=t.i18n.t("user.login"),s=t.i18n.t("user.cancelpclogin");t.$mp.data=Object.assign({},{$root:{g0:e,g1:o,g2:s}})},i=[]},"384f":function(t,n,e){"use strict";e.r(n);var o=e("22ce"),s=e("824a");for(var i in s)"default"!==i&&function(t){e.d(n,t,(function(){return s[t]}))}(i);e("ad27");var c,a=e("f0c5"),u=Object(a["a"])(s["default"],o["b"],o["c"],!1,null,"8db1308a",null,!1,o["a"],c);n["default"]=u.exports},"7e76":function(t,n,e){"use strict";(function(t){e("8d7e");o(e("66fd"));var n=o(e("384f"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"824a":function(t,n,e){"use strict";e.r(n);var o=e("0f87"),s=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n["default"]=s.a},ad27:function(t,n,e){"use strict";var o=e("b7692"),s=e.n(o);s.a},b7692:function(t,n,e){}},[["7e76","common/runtime","common/vendor"]]]);